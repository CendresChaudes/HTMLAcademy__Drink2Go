const HANDLE_LOWER_ID=0,HANDLE_UPPER_ID=1,rangeBar=document.querySelector(".range__bar"),fieldMin=document.querySelector("#range-min"),fieldMax=document.querySelector("#range-max"),resetButton=document.querySelector(".filter__button-wrapper [type=reset]"),RangeBarSetup={INIT_START_VALUE:fieldMin.value||Number(fieldMin.min),INIT_END_VALUE:fieldMax.value||Number(fieldMax.max),STEP:Number(fieldMin.step)||Number(fieldMax.step)||5,RANGE_MIN:Number(fieldMin.min),RANGE_MAX:Number(fieldMax.max),IS_CONNECT:!0,CSS_PREFIX:"range__bar-"},createRangeBar=()=>{noUiSlider.create(rangeBar,{start:[RangeBarSetup.INIT_START_VALUE,RangeBarSetup.INIT_END_VALUE],step:RangeBarSetup.STEP,range:{min:RangeBarSetup.RANGE_MIN,max:RangeBarSetup.RANGE_MAX},connect:RangeBarSetup.IS_CONNECT,cssPrefix:RangeBarSetup.CSS_PREFIX,handleAttributes:[{"aria-label":"Уменьшить."},{"aria-label":"Увеличить."}]})},checkDisabledStatus=()=>{const e=document.querySelector(".range__bar-handle-lower"),a=document.querySelector(".range__bar-handle-upper");if(Array.from(rangeBar.classList).includes("range__bar--disabled"))return rangeBar.noUiSlider.disable(),e.style.cursor="not-allowed",a.style.cursor="not-allowed",fieldMin.disabled=!0,void(fieldMax.disabled=!0);fieldMin.disabled&&(rangeBar.noUiSlider.disable(0),e.style.cursor="not-allowed"),fieldMax.disabled&&(rangeBar.noUiSlider.disable(1),a.style.cursor="not-allowed")},onRangeBarUpdate=([e,a])=>{fieldMin.value=Number(e),fieldMax.value=Number(a)},onFieldValueChange=()=>rangeBar.noUiSlider.set([fieldMin.value,fieldMax.value]),onResetButtonClick=()=>rangeBar.noUiSlider.reset(),initRangeBar=()=>{noUiSlider.create(rangeBar,{start:[RangeBarSetup.INIT_START_VALUE,RangeBarSetup.INIT_END_VALUE],step:RangeBarSetup.STEP,range:{min:RangeBarSetup.RANGE_MIN,max:RangeBarSetup.RANGE_MAX},connect:RangeBarSetup.IS_CONNECT,cssPrefix:RangeBarSetup.CSS_PREFIX,handleAttributes:[{"aria-label":"Уменьшить."},{"aria-label":"Увеличить."}]}),checkDisabledStatus(),rangeBar.noUiSlider.on("update",onRangeBarUpdate),fieldMin.addEventListener("change",onFieldValueChange),fieldMax.addEventListener("change",onFieldValueChange),resetButton.addEventListener("click",onResetButtonClick)};export{initRangeBar};